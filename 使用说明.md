# Text2Voice 使用说明

## 快速开始

### 1. 安装依赖

```bash
cd /Users/mac/Desktop/Text2Voice
flutter pub get
```

### 2. 运行应用

#### Android
```bash
flutter run -d android
```

#### iOS
```bash
flutter run -d ios
```


#### 鸿蒙 (HarmonyOS)
```bash
# 需要配置HarmonyOS开发环境
flutter run -d harmonyos
```

## 功能说明

### 文件上传
- 点击"选择文件"按钮
- 支持格式：PDF、TXT
- 系统会自动提取文件中的文字内容

### 文字编辑
- 提取的文字会显示在文本框中
- 可以直接编辑文字内容
- 修改后的文字会用于语音播放

### 语音播放
- 点击播放按钮开始语音播放
- 使用暂停按钮暂停播放
- 使用停止按钮停止播放
- 使用速度滑块调节播放速度（0.5x - 2.0x）

## 技术特性

### 多平台支持
- ✅ Android (API 21+)
- ✅ iOS (iOS 12+)
- ✅ HarmonyOS (鸿蒙)

### 语音引擎
- Android: 使用系统TTS引擎（支持中文）
- iOS: 使用AVSpeechSynthesizer（支持中文）

### 中文语音
应用默认使用中文（zh-CN）语音合成，声音效果类似微信语音消息。

## 注意事项

1. **PDF文件**：确保PDF文件包含可提取的文字内容（非扫描图片）
2. **权限**：Android和iOS需要文件访问权限
4. **语音引擎**：首次使用可能需要下载语音数据包

## 故障排除

### PDF无法提取文字
- 检查PDF是否包含文字内容（非扫描版）
- 尝试使用TXT格式文件

### 语音无法播放
- 检查设备是否支持TTS
- Android: 检查系统TTS设置
- iOS: 检查语音设置

### 速度调节不生效
- 某些平台对速度范围有限制
- 尝试重启应用

## 开发说明

### 项目结构
```
lib/
  ├── main.dart              # 应用入口
  ├── screens/               # 页面
  │   └── home_screen.dart
  ├── services/              # 服务层
  │   ├── text_extractor.dart
  │   └── tts_service.dart
  └── widgets/               # 组件
      ├── file_upload_card.dart
      ├── text_display_card.dart
      └── playback_controls.dart
```

### 主要依赖
- `flutter_tts`: 文字转语音
- `file_picker`: 文件选择
- `pdf_text`: PDF文字提取

## 许可证

本项目仅供学习和参考使用。
